# 粗糙贴图和高光贴图的理解与运用

## 高光贴图

介绍将拿这个普通的圆柱体进行。这个圆柱附加上了普通的塑料材质。

![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-185216.jpg)

材质图如下

![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-185212.jpg)



为了把高光贴图与粗糙度贴图说清楚，这里将使用一张黑白色的指纹贴图。

![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-185209.jpg)

当把一张指纹贴图到高光上之后，大家可以直观的看到附上高光后的情况。

![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-185210.jpg)

可以看到指纹区域保留了高光，而黑色区域则没有任何高光效果。

而在软件算法中是这样，高光贴图的白色（数值为1）的区域是有高光，而黑色（数值为0）的区域则没有高光。

也就是说，高光贴图控制了物体在哪块区域（贴图的分布）有没有高光这个属性（每个区域的颜色值）。

## 粗糙度贴图

在高光通道的理解基础上，用一句话来解释的话，粗糙度贴图控制了这个区域是高光还是漫反射。

![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-185206.jpg)

白色代表了完全粗糙，可以认为是漫反射，而黑色则是完全不粗糙，是镜面反射。

也许会有人会想到，单纯控制高光贴的数值范围，是不是也是一样能控制高光的强度？ 实际上这个问题可以用下面这张GIF来回答。

![](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-111.gif)

可以看到指纹区域在有灯光下是比较暗的，因为这块区域是漫反射的所以反射到摄像机的光线数量比较少，所以比较暗。

而当灯光没有直射的时候，这些指纹区域反而变得更亮了，因为就算灯光没有直接反射到摄像机，还是会有漫反射的光线传到摄像机。而高光的部分因为没有直射，所以变得比较暗。

所以在有灯光直射和无灯光直射的情况下效果会不一样。而这种效果是单纯用高光材质没法做到的。

关于这个现象，大家可以回想一下这个场景：下雨后的晚上出门，如果地上有水潭，在朝向月光和背向月光的情况下，水潭和底面的亮暗情况。

那么如果产品本身就设定了粗糙度，此时加上粗糙贴图就是什么效果呢？粗糙度会被贴图控制，数值处也会变成灰色，即完全替代。

![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-185208.jpg)



一句话总结就是：**高光贴图白色有高光黑色无高光，粗糙度贴图白色漫反射黑色全反射。**



## 粗糙度贴图的应用

如果知道了这个高光贴图和粗糙度贴图的本质，再说下这个有什么用。



![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-194038.jpg)

![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-194040.jpg)

这个是当时做的那个耳机。可以看到把粗糙度加进去之后，可以使得亮的地方更亮，暗的地方更暗。这会比光一张贴图连进凹凸来的更加符合真实情况。

前者感觉不透气，而后者更通透

皮革其实也有点像之前描述的底面与水潭的情况。因为有凹凸，所以其实高的地方更容易反光，低的地方更暗。

基本上就是这样。假如粗糙贴图和凸凹贴图是同一张，会增强逼真效果。

所以其实粗糙度贴图是非常强大的一个通道贴图。 

### 错误的理解

这样凹凸的材质，给一个高光贴图会更真实？

下图是只贴了高光贴图的效果，可以看到效果非常差。![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-194039.jpg)

而连到粗糙度贴图则更加真实。

![img](http://ox55f9bg6.bkt.clouddn.com/2017-12-13-194036.jpg)

结合刚才说的高光贴图和粗糙度贴图的本质去思考一下，就知道为什么了。